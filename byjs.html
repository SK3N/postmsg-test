<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="UTF-8">
    <title>JSでフォーム埋め込み</title>
    <style>
      .parent {
        max-width: 768px;
        margin: 2rem auto;
      }
    </style>
  </head>

  <body>
    <div class="parent">
      <h1>JSでフォーム読み込みテスト</h1>

      <div id="form-container">読み込み中...</div>

      <script>
        // ① クエリパラメータ取得
        const params = new URLSearchParams(window.location.search);
        const gclid = params.get('gclid');

        // ② HTMLファイルを読み込んで挿入
        fetch('children.html')
          .then(res => res.text())
          .then(html => {
            document.getElementById('form-container').innerHTML = html;

            // ③ フォームがDOMに追加された後に値を代入
            setTimeout(() => {
              const input = document.querySelector('[name="gclid"]');
              if (input && gclid) {
                input.value = gclid;
              }
            }, 100); // 必要に応じて調整
          });
      </script>
    </div>
  </body>

</html>