<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="UTF-8">
    <title>親ページ</title>
    <style>
      .parent {
        max-width: 768px;
        margin: 2rem auto;
      }
    </style>
  </head>

  <body>
    <div class="parent">
      <h1>親ページ</h1>
      <button onclick="sendMessage()">iframeにメッセージ送信</button>
      <iframe id="formIframe" src="http://localhost:5501/child.html" width="100%" height="300" style="border: 1px solid #ccc;"></iframe>

      <script>
        function sendMessage() {
          const iframe = document.getElementById("formIframe");
          const message = {
            type: "tracking",
            data: {
              gclid: "TEST-GCLID-12345",
              source: "google"
            }
          };
          iframe.contentWindow.postMessage(message, "http://localhost:5501"); // 本番は Pardot ドメイン
        }
      </script>
    </div>
  </body>

</html>